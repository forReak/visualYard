<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>货架管理</title>
    <th:block th:include="common/base::proejct-context" th:remove="tag"></th:block>
</head>

<style>

    .searchDiv{
        margin-right: 10px;
        display: flex;
    }
    .searchDiv>label{
        margin-right: 5px;
    }

</style>

<body>

<h4>货架管理</h4>
<form class="form-inline" action="#">
    <div class="searchDiv">
        <label for="shelfName">货架名称</label>
        <input id="shelfName" class="form-control" type="text">
    </div>
    <div class="searchDiv">
        <label for="stockNo">库区名称</label>
        <input id="stockNo" class="form-control" type="text">
    </div>

    <button type="submit" class="btn btn-default">查询</button>
</form>
<div class="btn-group" style="margin:5px">
    <button type="button" class="btn btn-default"  data-toggle="modal" data-target="#addShelf">新增</button>

</div>
<table class="table table-striped table-bordered table-hover">
    <thead>
    <tr>
        <th>货架名称</th>
        <th>货架描述</th>
        <th>货架状态</th>
        <th>货架容量</th>
        <th>所属库区</th>
        <th>位置</th>
        <th>大小</th>
        <th>当前容量</th>

    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Tanmay</td>
        <td>Bangalore</td>
        <td>560001</td>
        <td><button type="button" class="btn btn-default">按钮 2</button>
            <button type="button" class="btn btn-default">按钮 3</button></td>
    </tr>
    <tr>
        <td>Sachin</td>
        <td>Mumbai</td>
        <td>400003</td>
        <td><button type="button" class="btn btn-default">按钮 2</button>
            <button type="button" class="btn btn-default">按钮 3</button></td>
    </tr>
    <tr>
        <td>Uma</td>
        <td>Pune</td>
        <td>411027</td>
        <td><button type="button" class="btn btn-default">按钮 2</button>
            <button type="button" class="btn btn-default">按钮 3</button></td>
    </tr>
    </tbody>
</table>
<div>
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#">上一页</a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
    </nav>
</div>

<!-- 模态框 -->
<div class="modal fade" id="addShelf">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- 模态框头部 -->
            <div class="modal-header">
                <h4 class="modal-title">新增货架</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- 模态框主体 -->
            <div class="modal-body">
                <form id="formInfo">
                    <div class="form-group">
                        <label for="shelfNo">货架名称（多个以逗号分割）:</label>
                        <input type="text" class="form-control" id="shelfNo" name="shelfNo">
                    </div>
                    <div class="form-group">
                        <label for="shelfDesc">货架描述:</label>
                        <input type="text" class="form-control" id="shelfDesc" name="shelfDesc">
                    </div>
                    <div class="form-group">
                        <label for="shelfStatus">货架状态:</label>
                        <input type="text" class="form-control" id="shelfStatus" name="shelfStatus">
                    </div>
                    <div class="form-group">
                        <label for="shelfQty">货架容量:</label>
                        <input type="text" class="form-control" id="shelfQty" name="shelfQty">
                    </div>
                    <div class="form-group">
                        <label for="stockId">所属库区:</label>
                        <input type="text" class="form-control" id="stockId" name="stockId">
                    </div>
                    <div class="form-group">
                        <label for="go_pos">位置:</label>
                        <input type="text" class="form-control" id="go_pos" name="goPos">
                    </div>
                    <div class="form-group">
                        <label for="go_size">大小:</label>
                        <input type="text" class="form-control" id="go_size" name="goSize">
                    </div>
                </form>
            </div>

            <!-- 模态框底部 -->
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="saveShelf()">保存</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
            </div>

        </div>
    </div>
</div>

</body>
<script type="text/javascript" th:inline="javascript">
    $(function () {
        console.log([[${shelfList}]]);
    });


    function saveShelf(){
        var formInfo = $("#formInfo").serialize();
        $.ajax({
            type: "post",
            url:ctxPath+ "/shelf/addShelf",
            data: formInfo,
            dataType: "json",
            success: function (result) {
                console.log(result);
                $('#addShelf').modal('hide');
            },
            error: function (result) {
                console.log(result);
            }
        });
    }
</script>
</html>